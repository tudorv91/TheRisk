function [w, t] = trainNN(training_set, t, layersSize, noOfEpochs, learning_rate)

w = zeros(layersSize, 1);

%training set
for idx = 0:noOfEpochs
randIdx = randi(size(training_set,1),1,1);

x(1) = training_set(randIdx, 1);
x(2) = training_set(randIdx, 2);
Yd = training_set(randIdx, 3);

%calculate the output
y = getOutput(x,w,t);

err = Yd - y;
for i=1:size(w,1)
   w(i) = w(i) + x(i)*err*learning_rate;
end
t = t + t*err*learning_rate
end